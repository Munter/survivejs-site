<html><head><title>SurviveJS - Webpack and React - Linting in Webpack</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"><meta name="description" content="
Nothing is easier than making mistakes when coding in JavaScript. Linting is one of those techniques that can help you to make less mistakes. You can spot issues before they become actual problems.

Better yet, modern editors and IDEs offer strong support for popular tools. This means you can spot â€¦"><meta name="keywords" content="webpack,react,javascript,programming,web development"><link rel="icon" type="image/png" href="../../assets/img/favicon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><link rel="stylesheet" href="../../assets/main.css"></head><body><div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog">Read the blog</a></div><div class="nav__link"><a href="https://leanpub.com/survivejs_webpack">Buy the ebook</a></div><div class="nav__link"><a href=""></a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><div class="right ribbon github-fork-ribbon-wrapper"><div class="github-fork-ribbon" style="background-color:black;"><a href="https://github.com/survivejs/webpack_react/issues/new?title=Linting in Webpack - " target="_blank">Submit feedback</a></div></div><main role="main"><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/images/lint.jpg);"></div><h1 class="post__heading">Linting in Webpack</h1><div class="toc-nav__wrapper"><h4 class="toc-nav--header">Table of Contents</h4><div class="toc-nav"><a href="/webpack_react/introduction" class="toc-nav__link chapter">Introduction</a><a href="/webpack_react/webpack" class="toc-nav__link part">Setting Up Webpack</a><a href="/webpack_react/webpack_compared" class="toc-nav__link chapter">Webpack Compared</a><a href="/webpack_react/developing_with_webpack" class="toc-nav__link chapter">Developing with Webpack</a><a href="/webpack_react/webpack_and_react" class="toc-nav__link chapter">Webpack and React</a><a href="/webpack_react/react" class="toc-nav__link part">Developing Kanban Application</a><a href="/webpack_react/implementing_notes" class="toc-nav__link chapter">Implementing a Basic Note Application</a><a href="/webpack_react/react_and_flux" class="toc-nav__link chapter">React and Flux</a><a href="/webpack_react/from_notes_to_kanban" class="toc-nav__link chapter">From Notes to Kanban</a><a href="/webpack_react/implementing_dnd" class="toc-nav__link chapter">Implementing Drag and Drop</a><a href="/webpack_react/building_kanban" class="toc-nav__link chapter">Building Kanban</a><a href="/webpack_react/testing_react" class="toc-nav__link chapter">Testing React*</a><a href="/webpack_react/typing_with_react" class="toc-nav__link chapter">Typing with React*</a><a href="/webpack_react/advanced" class="toc-nav__link part">Advanced Techniques</a><span class="toc-nav__link toc-nav__link--current chapter">Linting in Webpack</span><a href="/webpack_react/authoring_libraries" class="toc-nav__link chapter">Authoring Libraries</a><a href="/webpack_react/styling_react" class="toc-nav__link chapter">Styling React</a><a href="/webpack_react/troubleshooting" class="toc-nav__link chapter">Troubleshooting</a></div></div><div class="chapter"><div class="post__content"><div class="post__meta"></div><div><p>Nothing is easier than making mistakes when coding in JavaScript. Linting is one of those techniques that can help you to make less mistakes. You can spot issues before they become actual problems.</p>
<p>Better yet, modern editors and IDEs offer strong support for popular tools. This means you can spot possible issues as you are developing. Despite this, it is a good idea to set them up with Webpack. That allows you to cancel a build that might not be up to your standards for example.</p>
<a class="header-anchor" href="#brief-history-of-linting-in-javascript" id="brief-history-of-linting-in-javascript"></a><h2>Brief History of Linting in JavaScript<a class="header-anchor-select" href="#brief-history-of-linting-in-javascript">#</a></h2>
<p>The linter that started it it all for JavaScript is Douglas Crockford&apos;s <a href="http://www.jslint.com/">JSLint</a>. It is opinionated like the man himself. The next step in evolution was <a href="http://jshint.com/">JSHint</a>. It took the opinionated edge out of JSLint and allowed for more customization. <a href="http://eslint.org/">ESLint</a> is the newest tool in vogue.</p>
<p>ESLint has learned from its predecessors. It allows you to implement custom rules. You can hook it up with custom parsers and reporters. This means ESLint will work with Babel and JSX syntax. The project rules have been well documented. You will have control over their severity. These features alone make it a powerful tool.</p>
<p>Besides linting for issues, it can be useful to manage code style on some level. Nothing is more annoying than having to work with source that has mixed tabs or spaces and such. Stylistically consistent code reads better and is easier to work with.</p>
<p><a href="http://jscs.info/">JSCS</a> makes it possible to define a style guide for JavaScript code. It is easy to integrate into your project through Webpack. ESLint implements a large part of its functionality, though.</p>
<a class="header-anchor" href="#webpack-and-jshint" id="webpack-and-jshint"></a><h2>Webpack and JSHint<a class="header-anchor-select" href="#webpack-and-jshint">#</a></h2>
<p>Interestingly no JSLint loader seems to exist for Webpack yet. Fortunately, there&apos;s one for JSHint. On a legacy project setting it up with Webpack is easy. You will need to install <a href="https://www.npmjs.com/package/jshint-loader">jshint-loader</a> to your project</p>
<pre><code class="lang-bash">npm i jshint<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre>
<p>In addition, you will need a little bit of configuration:</p>
<pre><code class="lang-javascript"><span class="token keyword">var</span> common <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    preLoaders<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.js?$/</span><span class="token punctuation">,</span>
        loaders<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&apos;jshint&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment" spellcheck="true">// define an include so we check just the files we need</span>
        include<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>ROOT_PATH<span class="token punctuation">,</span> <span class="token string">&apos;app&apos;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>You can also define custom settings using a <code>jshint</code> object. The tool will look into specific rules to apply from <code>.jshintrc</code>. Those have been covered at <a href="http://jshint.com/docs/">the JSHint documentation</a> in detail. An example configuration could look like this:</p>
<p><strong>.jshintrc</strong></p>
<pre><code class="lang-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;camelcase&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;esnext&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;indent&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;latedef&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;newcap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quotmark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;double&quot;</span>
<span class="token punctuation">}</span>
</code></pre>
<a class="header-anchor" href="#setting-up-eslint" id="setting-up-eslint"></a><h2>Setting Up ESLint<a class="header-anchor-select" href="#setting-up-eslint">#</a></h2>
<p><img src="/images/eslint.png" alt="ESLint"></p>
<p><a href="http://eslint.org/">ESLint</a> is a recent linting solution for JavaScript. It builds on top of ideas presented by JSLint and JSHint. Most importantly it allows you to develop custom rules. As a result, a nice set of rules have been developed for React in form of <a href="https://www.npmjs.com/package/eslint-plugin-react">eslint-plugin-react</a>.</p>
<blockquote class="tip">Since <em>v1.4.0</em> ESLint supports a feature known as <a href="http://eslint.org/blog/2015/09/eslint-v1.4.0-released/">autofixing</a>. It allows you to perform certain rule fixes automatically. To activate it, pass <code>--fix</code> flag to the tool.</blockquote><a class="header-anchor" href="#connecting-eslint-with-package-json-" id="connecting-eslint-with-package-json-"></a><h3>Connecting ESlint with <code>package.json</code><a class="header-anchor-select" href="#connecting-eslint-with-package-json-">#</a></h3>
<p>In order to integrate ESLint with our project, we&apos;ll need to do a couple of little tweaks. First we&apos;ll need to hit</p>
<pre><code class="lang-bash">npm i babel<span class="token operator">-</span>eslint eslint eslint<span class="token operator">-</span>plugin<span class="token operator">-</span>react <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre>
<p>This will add ESLint and the plugin we want to use as our project development dependency. Next, we&apos;ll need to do some configuration to make linting work in our project.</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  ...
  <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint . --ext .js --ext .jsx&quot;</span>
<span class="token punctuation">}</span>
...
</code></pre>
<p>This will trigger ESLint against all JS and JSX files of our project. That&apos;s definitely too much so we&apos;ll need to restrict it. Set up <em>.eslintignore</em> to the project root like this:</p>
<p><strong>.eslintignore</strong></p>
<pre><code class="lang-bash">build<span class="token operator">/</span>
</code></pre>
<p>Next, we&apos;ll need to activate <a href="https://www.npmjs.com/package/babel-eslint">babel-eslint</a> so that ESLint works with our Babel code. In addition, we need to activate React specific rules and set up a couple of our own. You can adjust these to your liking. You&apos;ll find more information about the rules at <a href="http://eslint.org/docs/rules/">the official rule documentation</a>.</p>
<p><strong>.eslintrc</strong></p>
<pre><code class="lang-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;babel-eslint&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;react&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;new-cap&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;no-underscore-dangle&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;no-use-before-define&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eol-last&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quotes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    &quot;react/jsx-boolean-value&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    &quot;react/jsx-quotes&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    &quot;react/jsx-no-undef&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    &quot;react/jsx-uses-react&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    &quot;react/jsx-uses-vars&quot;<span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The severity of an individual rule is defined by a number as follows:</p>
<ul>
<li>0 - The rule has been disabled.</li>
<li>1 - The rule will emit a warning.</li>
<li>2 - The rule will emit an error.</li>
</ul>
<p>Some rules, such as <code>quotes</code>, accept an array instead. This allows you to pass extra parameters to them. Refer to the rule specific documentation for specifics.</p>
<p>The <code>react/</code> rules listed above are just a small subset of all rules available. Pick rules from <a href="https://www.npmjs.com/package/eslint-plugin-react">eslint-plugin-react</a> as needed.</p>
<blockquote class="tip">Other tools, such as JSCS and JSHint, ESLint supports <code>package.json</code> based configuration. Simply add a <code>eslintConfig</code> field to it and write the configuration there.</blockquote><blockquote class="tip">It is possible to generate a sample <code>.eslintrc</code> using <code>eslint --init</code> (or <code>node_modules/.bin/eslint --init</code> for local install). This can be useful on new projects.</blockquote><a class="header-anchor" href="#dealing-with-elifecycle-error" id="dealing-with-elifecycle-error"></a><h3>Dealing with <code>ELIFECYCLE</code> Error<a class="header-anchor-select" href="#dealing-with-elifecycle-error">#</a></h3>
<p>In case the linting process fails, <code>npm</code> will give you a nasty looking <code>ELIFECYCLE</code> error. A good way to achieve a tidier output is to invoke <code>npm run lint --silent</code>. That will hide the <code>ELIFECYCLE</code> bit. You can define an alias for this purpose. At Unix you would do <code>alias run=&apos;npm run --silent&apos;</code> and then <code>run &lt;script&gt;</code>.</p>
<p>Alternatively, you could pipe output to <code>true</code> like this:</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  ...
  <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint . --ext .js --ext .jsx || true&quot;</span>
<span class="token punctuation">}</span>
...
</code></pre>
<p>The problem with this approach is that if you invoke <code>lint</code> through some other command, it will pass even if there are failures. If you have another script that does something like <code>npm run lint &amp;&amp; npm run build</code>, it will build regardless of the output of the first command!</p>
<a class="header-anchor" href="#connecting-eslint-with-webpack" id="connecting-eslint-with-webpack"></a><h3>Connecting ESLint with Webpack<a class="header-anchor-select" href="#connecting-eslint-with-webpack">#</a></h3>
<p>We can make Webpack emit ESLint messages for us by using <a href="https://www.npmjs.com/package/eslint-loader">eslint-loader</a>. As the first step hit</p>
<pre><code class="lang-bash">npm i eslint<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre>
<p>Next, we need to tweak our development configuration to include it. Add the following section to it:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword">var</span> common <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    preLoaders<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.jsx?$/</span><span class="token punctuation">,</span>
        loaders<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&apos;eslint&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        include<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>ROOT_PATH<span class="token punctuation">,</span> <span class="token string">&apos;app&apos;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>We are including the configuration to <code>common</code> as this way linting gets performed always. This way you can make sure your production build passes your rules while making sure you benefit from linting during development.</p>
<p><code>preLoaders</code> section of the configuration gets executed before <code>loaders</code>. If linting fails, you&apos;ll know about it first. There&apos;s a third section, <code>postLoaders</code>, that gets executed after <code>loaders</code>. You could include code coverage checking there during testing for instance.</p>
<p>If you execute <code>npm start</code> now and break some linting rule while developing, you should see that in the terminal output. The same should happen when you build the project.</p>
<a class="header-anchor" href="#customizing-eslint" id="customizing-eslint"></a><h2>Customizing ESLint<a class="header-anchor-select" href="#customizing-eslint">#</a></h2>
<p>Even though you can get very far with vanilla ESLint there are several techniques you should be aware of. For instance, sometimes you might want to skip some particular rules per file. You might even want to implement rules of your own. We&apos;ll cover these cases briefly next.</p>
<a class="header-anchor" href="#skipping-eslint-rules" id="skipping-eslint-rules"></a><h3>Skipping ESLint Rules<a class="header-anchor-select" href="#skipping-eslint-rules">#</a></h3>
<p>Sometimes you&apos;ll want to skip certain rules per file or per line. This can be useful when you happen to have some exceptional case in your code where some particular rule doesn&apos;t make sense. As usual exception confirms the rule. Consider the following examples:</p>
<pre><code class="lang-javascript"><span class="token comment" spellcheck="true">// everything</span>
<span class="token comment" spellcheck="true">/* eslint-disable */</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment" spellcheck="true">/* eslint-enable */</span>
</code></pre>
<pre><code class="lang-javascript"><span class="token comment" spellcheck="true">// specific rule</span>
<span class="token comment" spellcheck="true">/* eslint-disable no-unused-vars */</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment" spellcheck="true">/* eslint-enable no-unused-vars */</span>
</code></pre>
<pre><code class="lang-javascript"><span class="token comment" spellcheck="true">// tweaking a rule</span>
<span class="token comment" spellcheck="true">/* eslint no-comma-dangle:1 */</span>
</code></pre>
<pre><code class="lang-javascript"><span class="token comment" spellcheck="true">// disable rule per line</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&apos;foo&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// eslint-disable-line no-alert</span>
</code></pre>
<p>Note that the rule specific examples assume you have the rules in your configuration in the first place! You cannot specify new rules here. Instead you can modify the behavior of existing rules.</p>
<a class="header-anchor" href="#setting-environment" id="setting-environment"></a><h3>Setting Environment<a class="header-anchor-select" href="#setting-environment">#</a></h3>
<p>Sometimes you may want to run ESLint in a specific environment, such as Node.js or Mocha. These environments have certain conventions of their own. For instance, Mocha relies on a custom keywords (e.g. <code>describe</code>, <code>it</code>) and its good if the linter doesn&apos;t choke on those.</p>
<p>ESLint provides two ways to deal with this - local and global. If you want to set it per file, you can use a declaration at the beginning of a file:</p>
<pre><code class="lang-javascript"><span class="token comment" spellcheck="true">/*eslint-env node, mocha */</span>
</code></pre>
<p>Global configuration is possible as well. In this case you can use <code>env</code> key like this:</p>
<p><strong>.eslintrc</strong></p>
<pre><code class="lang-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mocha&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ...
<span class="token punctuation">}</span>
</code></pre>
<a class="header-anchor" href="#writing-your-own-rules" id="writing-your-own-rules"></a><h3>Writing Your Own Rules<a class="header-anchor-select" href="#writing-your-own-rules">#</a></h3>
<p>ESLint rules rely on Abstract Syntax Tree (AST) definition of JavaScript. It is a data structure that describes JavaScript code after it has been lexically analyzed. There are tools such as <a href="https://github.com/benjamn/recast">recast</a> that allow you perform transformations on JavaScript code by using AST transformations. The idea is that you match some structure, then transform it somehow and convert AST back to JavaScript.</p>
<p>To get a better idea of how AST works and what it looks like you can check <a href="http://esprima.org/demo/parse.html">Esprima online JavaScript AST visualization</a> or <a href="http://felix-kling.de/esprima_ast_explorer/">JS AST Explorer by Felix Kling</a>. Alternatively, you can install <code>recast</code> and examine the output it gives. That is the structure we&apos;ll be working with at ESLint rules.</p>
<p>In ESLint&apos;s case we just want to check the structure and report in case something is wrong. Getting a simple rule done is surprisingly simple:</p>
<ol>
<li>Set up a new project named <code>eslint-plugin-custom</code>. You can replace <code>custom</code> with whatever you want. ESLint follows this naming convention.</li>
<li>Hit <code>npm init</code> to create a dummy <code>package.json</code></li>
<li>Set up <code>index.js</code> in the project root with content like this:</li>
</ol>
<p><strong>eslint-plugin-custom/index.js</strong></p>
<pre><code class="lang-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    demo<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        Identifier<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          context<span class="token punctuation">.</span><span class="token function">report</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> <span class="token string">&apos;This is unexpected!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>In this case, we just report for every identifier found. In practice, you&apos;ll likely want to do something more complex than this, but this is a good starting point.</p>
<p>Next, you need to hit <code>npm link</code> within <code>eslint-plugin-custom</code>. This will make your plugin visible within your system. <code>npm link</code> allows you to consume easily a development version of a library you are developing. To reverse the link you can hit <code>npm unlink</code> when you feel like it.</p>
<blockquote class="tip">If you want to do something serious, you should point to your plugin through <code>package.json</code>.</blockquote><p>We need to alter our project configuration to make it to find the plugin and the rule within.</p>
<p><strong>.eslintrc</strong></p>
<pre><code class="lang-json"><span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;custom&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  &quot;custom/demo&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  ...
<span class="token punctuation">}</span>
</code></pre>
<p>If you invoke ESLint now, you should see a bunch of warnings. Mission accomplished!</p>
<p>Of course the rule doesn&apos;t do anything useful yet. To get forward I recommend checking out the official documentation about <a href="http://eslint.org/docs/developer-guide/working-with-plugins.html">plugins</a> and <a href="http://eslint.org/docs/developer-guide/working-with-rules.html">rules</a>. You can also check out some of the existing rules and plugins for inspiration to see how they achieve certain things.</p>
<a class="header-anchor" href="#eslint-resources" id="eslint-resources"></a><h3>ESLint Resources<a class="header-anchor-select" href="#eslint-resources">#</a></h3>
<p>Besides the official documentation available at <a href="http://eslint.org/">eslint.org</a>, you should check out the following blog posts:</p>
<ul>
<li><a href="https://medium.com/@dan_abramov/lint-like-it-s-2015-6987d44c5b48">Lint Like It&apos;s 2015</a> - This post by Dan Abramov shows how to get ESLint work well with Sublime Text.</li>
<li><a href="http://davidwalsh.name/eslint">Detect Problems in JavaScript Automatically with ESLint</a> - A good tutorial on the topic.</li>
<li><a href="http://rangle.io/blog/understanding-the-real-advantages-of-using-eslint/">Understanding the Real Advantages of Using ESLint</a> - Evan Schultz&apos;s post digs into details.</li>
<li><a href="https://github.com/elijahmanor/eslint-plugin-smells">eslint-plugin-smells</a> - This plugin by Elijah Manor allows you to lint against various JavaScript smells. Recommended.</li>
</ul>
<p>If you just want some starting point, you can pick one of <a href="https://www.npmjs.com/search?q=eslint-config">eslint-config- packages</a> or go with <a href="https://www.npmjs.com/package/standard">standard</a> style. By the looks of it, <code>standard</code> has <a href="https://github.com/feross/standard/issues/138">some issues with JSX</a> so be careful with that.</p>
<a class="header-anchor" href="#linting-css" id="linting-css"></a><h2>Linting CSS<a class="header-anchor-select" href="#linting-css">#</a></h2>
<p><a href="https://www.npmjs.com/package/csslint">csslint</a> allows us to lint CSS. <a href="https://www.npmjs.com/package/csslint-loader">csslint-loader</a> makes it possible to integrate it into our project. To get started, hit</p>
<pre><code class="lang-bash">npm i csslint csslint<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre>
<p>Next, we&apos;ll need to integrate it with our configuration:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword">var</span> common <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    preLoaders<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        loaders<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&apos;csslint&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        include<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>ROOT_PATH<span class="token punctuation">,</span> <span class="token string">&apos;app&apos;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>To keep things nice and tidy I put it into the <code>preLoaders</code> section of configuration. In addition we are going to need some basic configuration. The following has been borrowed from Twitter Bootstrap and seems like a good starting point:</p>
<p><strong>.csslintrc</strong></p>
<pre><code class="lang-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;adjoining-classes&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;box-sizing&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;box-model&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;compatible-vendor-prefixes&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;floats&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;font-sizes&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gradients&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;important&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;known-properties&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;outline-none&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;qualified-headings&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;regex-selectors&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;shorthand&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text-indent&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unique-headings&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;universal-selector&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unqualified-attributes&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We should also tweak <em>package.json</em> targets so that we can lint what we want outside of Webpack:</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  ...
  <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run lint-js &amp;&amp; npm run lint-css&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;lint-js&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint . --ext .js --ext .jsx&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;lint-css&quot;</span><span class="token operator">:</span> <span class="token string">&quot;csslint app --quiet&quot;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>That <code>--quiet</code> flag is there to keep the tool silent unless there are errors. If you hit <code>npm run lint-css</code> now, you might see some errors or not depending on whether the process passes. If you want to trigger a failure, try overqualifying a selector. I.e. do something like <code>body.lane</code> and you should get a warning.</p>
<p>Thanks to the Webpack configuration we did, you should get output during <code>npm start</code> process as well. In addition, you should consider setting up csslint with your editor. That way you get more integrated development experience.</p>
<a class="header-anchor" href="#checking-javascript-style-with-jscs" id="checking-javascript-style-with-jscs"></a><h2>Checking JavaScript Style with JSCS<a class="header-anchor-select" href="#checking-javascript-style-with-jscs">#</a></h2>
<p><img src="/images/jscs.png" alt="JSCS"></p>
<p>Especially in a team environment it can be annoying if one guy uses tabs and other spaces. There can also be discrepancies between space usage. Some like to use two, some like four for indentation. In short, it can get pretty messy without any discipline. Fortunately, there is a tool known as JSCS. It will allow you to define a style guide for your project. We won&apos;t use the tool in this project, but it&apos;s good to be aware of it.</p>
<p><a href="https://github.com/unindented/jscs-loader">jscs-loader</a> provides Webpack hooks to the tool. Integration is similar as in the case of ESLint. You would define <code>.jscsrc</code> with your style guide rules and use configuration like this:</p>
<pre><code class="lang-javascript">module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  preLoaders<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      test<span class="token punctuation">:</span> <span class="token regex">/\.jsx?$/</span><span class="token punctuation">,</span>
      loaders<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&apos;eslint&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;jscs&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      include<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>ROOT_PATH<span class="token punctuation">,</span> <span class="token string">&apos;app&apos;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p>To make it work with JSX, you&apos;ll need to point it to <code>esprima-fb</code> parser through <code>.jscsrc</code>. There are also various other options and even some presets. Consider the example below:</p>
<p><strong>.jscsrc</strong></p>
<pre><code class="lang-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;esprima&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esprima-fb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;preset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;google&quot;</span><span class="token punctuation">,</span>

  <span class="token property">&quot;fileExtensions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.jsx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token property">&quot;requireCurlyBraces&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;requireParenthesesAroundIIFE&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token property">&quot;maximumLineLength&quot;</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
  <span class="token property">&quot;validateLineBreaks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LF&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;validateIndentation&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>

  <span class="token property">&quot;disallowKeywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;with&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;disallowSpacesInsideObjectBrackets&quot;</span><span class="token operator">:</span> <span class="token null">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;disallowImplicitTypeConversion&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token property">&quot;safeContextKeyword&quot;</span><span class="token operator">:</span> <span class="token string">&quot;that&quot;</span><span class="token punctuation">,</span>

  <span class="token property">&quot;excludeFiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;dist/**&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;node_modules/**&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<blockquote class="tip">ESLint implements a large part of the functionality provided by JSCS. It is possible you can skip JSCS altogether provided you configure ESLint correctly. There&apos;s a large amount of presets available.</blockquote><blockquote class="tip">Note that like some other tools, such as ESLint and JSHint, JSCS supports <code>package.json</code> based configuration. Simply add a <code>jscsConfig</code> field to it and write the configuration there.</blockquote><a class="header-anchor" href="#editorconfig" id="editorconfig"></a><h2>EditorConfig<a class="header-anchor-select" href="#editorconfig">#</a></h2>
<p><a href="http://editorconfig.org/">EditorConfig</a> allows you to maintain a consistent coding style across different IDEs and editors. Some even come with built-in support. For others you have to install a separate plugin. In addition to this you&apos;ll need to set up a <code>.editorconfig</code> file like this:</p>
<p><strong>.editorconfig</strong></p>
<pre><code class="lang-yaml">root = true

<span class="token comment" spellcheck="true"># General settings for whole project</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span>
indent_style = space
indent_size = 4

end_of_line = lf
charset = utf<span class="token punctuation">-</span><span class="token number">8</span>
trim_trailing_whitespace = true
insert_final_newline = true

<span class="token comment" spellcheck="true"># Format specific overrides</span>
<span class="token punctuation">[</span>*.md<span class="token punctuation">]</span>
trim_trailing_whitespace = false

<span class="token punctuation">[</span>app/**.js<span class="token punctuation">]</span>
indent_style = space
indent_size = 2
</code></pre>
<a class="header-anchor" href="#conclusion" id="conclusion"></a><h2>Conclusion<a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>In this chapter you learned how to lint your code using Webpack in various ways. It is one of those techniques that yields benefits over longer term. You can fix possible problems before they become actual issues.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this chapter consider subscribing to <a href="http://eepurl.com/bth1v5">the mailing list</a> or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote></div><div id="disqus_thread"></div></div><div class="prevnext"><div class="prevnext__prev"><div class="prevnext__bg" style="background-image:url(/images/skydiving.jpg);"></div><span class="prevnext__info">Previous chapter</span><a class="prevnext__link" href="/webpack_react/advanced">Advanced Techniques</a></div><div class="prevnext__next"><div class="prevnext__bg" style="background-image:url(/images/library.jpg);"></div><span class="prevnext__info">Next chapter</span><a class="prevnext__link" href="/webpack_react/authoring_libraries">Authoring Libraries</a></div></div><a class="next-page" href="/webpack_react/authoring_libraries">Authoring Libraries</a><a class="previous-page" href="/webpack_react/advanced">Advanced Techniques</a><div class="header-extra"><a href="https://www.flickr.com/photos/16324044@N00/10833734686">Eva the Weaver (CC BY-NC-SA)</a></div></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><noscript></noscript></main></div></body></html>